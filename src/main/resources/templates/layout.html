<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Collection Management</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <script th:src="@{/js/jquery.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <script th:src="@{/js/jquery-ui.min.js}"></script>
</head>
<body class="light-theme">
    <div class="container">
        <header>
            <!-- Theme Switch Button -->
            <button onclick="switchTheme()">Switch Theme</button>

            <!-- Language Switch Buttons -->
            <button onclick="switchLanguage('en')">English</button>
            <button onclick="switchLanguage('es')">Espa√±ol</button>

            <!-- Other header content -->
        </header>
        
        <main>
            <!-- Content will be injected here -->
            <div th:replace="~{fragments :: content}"></div>
        </main>
        
        <footer>
            <!-- Footer content -->
        </footer>
    </div>

    <!-- Theme and Language Switching Scripts -->
    <script>
        function switchTheme() {
            var body = document.body;
            body.classList.toggle('dark-theme');
            body.classList.toggle('light-theme');

            // Save theme preference in localStorage
            const currentTheme = body.classList.contains('dark-theme') ? 'dark' : 'light';
            localStorage.setItem('theme', currentTheme);
        }

        function switchLanguage(language) {
            window.location.search = '?lang=' + language;
        }

        // Apply the saved theme on page load
        document.addEventListener('DOMContentLoaded', (event) => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.body.classList.add(savedTheme + '-theme');
        });
    </script>
</body>
</html>
